(()=>{var e={205:(e,r,t)=>{"use strict";var n,i,a,o,u,s,c,f=t(319),l=t.n(f);function g(e,r,t){var n=new Uint8Array(e),i=1<<t,a=n.subarray(r,r+3*i);return{entriesCount:i,getRed:function(e){return n[r+(3*e+0)]},getGreen:function(e){return n[r+(3*e+1)]},getBlue:function(e){return n[r+(3*e+2)]},getColor:function(e){return{red:this.getRed(e),green:this.getGreen(e),blue:this.getBlue(e)}},getRawData:function(){return a}}}function d(e,r){var t=new Uint8Array(e);return t[r]!==a.imageSeparator&&console.warn("Invalid image descriptor: ".concat(r,". Image desriptor doesn't start with ','")),{imageLeft:t[r+1]|t[r+2]<<8,imageTop:t[r+3]|t[r+4]<<8,imageWidth:t[r+5]|t[r+6]<<8,imageHeight:t[r+7]|t[r+8]<<8,M:t[r+9]>>7,I:t[r+9]>>6&1,pixel:1+(7&t[r+9]),compressedData:null,graphicControl:null,colorMap:null,startPointer:0}}function h(e,r){for(var t=new Uint8Array(e);t[r]&&r<t.byteLength;)r+=t[r]+1;return r+1}function m(e,r){var t=new Uint8Array(e);return{isTransparent:1&t[r],isUserInputRequired:t[r]>>>1&1,disposalMethod:t[r]>>>2&7,delayTime:10*(t[r+1]|t[r+2]<<8),transparentColorIndex:t[r+3]}}function p(e,r){return h(e,r+=1)}!function(e){e[e.comma=44]="comma",e[e.semicolon=59]="semicolon",e[e.G=71]="G",e[e.I=73]="I",e[e.F=70]="F"}(n||(n={})),function(e){e[e.blockLabel=33]="blockLabel",e[e.graphicControl=249]="graphicControl",e[e.applicationLabel=255]="applicationLabel"}(i||(i={})),function(e){e[e.imageSeparator=n.comma]="imageSeparator",e[e.gifTermination=n.semicolon]="gifTermination"}(a||(a={})),function(e){e[e.start=6]="start",e[e.size=7]="size"}(o||(o={})),function(e){e[e.start=o.start+o.size]="start",e[e.entriesCount=3]="entriesCount"}(u||(u={})),function(e){e[e.size=10]="size"}(s||(s={})),function(e){e[e.noAction=0]="noAction",e[e.noDispose=1]="noDispose",e[e.clear=2]="clear",e[e.prev=3]="prev"}(c||(c={}));var v,x=t(575),T=t.n(x),w=t(913),y=t.n(w),b=function(){function e(){T()(this,e),this.onceTimerId=-1}return y()(e,[{key:"once",value:function(e,r){this.onceTimerId=setTimeout(e,r)}},{key:"clear",value:function(){return!!this.isOnceTimerSetted()&&(clearTimeout(this.onceTimerId),this.onceTimerId=-1,!0)}},{key:"isOnceTimerSetted",value:function(){return-1!==this.onceTimerId}}]),e}(),E=function(){function e(r,t){T()(this,e),this.width=r,this.height=t,this.memory=new ImageData(r,t)}return y()(e,[{key:"getRawMemory",value:function(){return this.memory}},{key:"setRedInPixel",value:function(e,r,t){var n=4*(r*this.width+e);this.memory.data[n+0]=t}},{key:"setGreenInPixel",value:function(e,r,t){var n=4*(r*this.width+e);this.memory.data[n+1]=t}},{key:"setBlueInPixel",value:function(e,r,t){var n=4*(r*this.width+e);this.memory.data[n+2]=t}},{key:"setAlphaInPixel",value:function(e,r,t){var n=4*(r*this.width+e);this.memory.data[n+3]=t}},{key:"set",value:function(e){this.memory.data.set(e.getRawMemory().data)}}]),e}(),F=function(){function e(r,t,n,i,a){T()(this,e),this.ctx=r.getContext("2d"),this.uncompressedData=a.out,this.lzw_uncompress=a.lzw_uncompress,this.graphicMemory=new E(t.screenWidth,t.screenHeight),this.prevGraphicMemory=new E(t.screenWidth,t.screenHeight)}return y()(e,[{key:"drawToTexture",value:function(e,r){var t=e.graphicControl;null!=t&&t.isTransparent?this.updateFrameData89(e,r):this.updateFrameData87(e,r)}},{key:"drawToScreen",value:function(){var e=this.graphicMemory;this.ctx.putImageData(e.getRawMemory(),0,0)}},{key:"restorePrevDisposal",value:function(){this.graphicMemory.set(this.prevGraphicMemory)}},{key:"saveDisposalPrev",value:function(){this.prevGraphicMemory.set(this.graphicMemory)}},{key:"getCanvasPixels",value:function(e){new Uint8ClampedArray(e.buffer).set(this.graphicMemory.getRawMemory().data)}},{key:"getPrevCanvasPixels",value:function(e){new Uint8ClampedArray(e.buffer).set(this.prevGraphicMemory.getRawMemory().data)}},{key:"updateFrameData87",value:function(e,r){var t=this.graphicMemory,n=e.M?e.colorMap:r,i=e.imageLeft,a=e.imageTop,o=e.imageHeight,u=e.imageWidth,s=0,c=0,f=0;this.lzw_uncompress(e);for(var l=0;l<o;l++)for(var g=0;g<u;g++)f=l*u+g,s=g+i,c=l+a,t.setRedInPixel(s,c,n.getRed(this.uncompressedData[f])),t.setGreenInPixel(s,c,n.getGreen(this.uncompressedData[f])),t.setBlueInPixel(s,c,n.getBlue(this.uncompressedData[f])),t.setAlphaInPixel(s,c,255)}},{key:"updateFrameData89",value:function(e,r){var t=this.graphicMemory,n=e.M?e.colorMap:r,i=e.graphicControl,a=e.imageLeft,o=e.imageTop,u=e.imageHeight,s=e.imageWidth,c=0,f=0,l=0;this.lzw_uncompress(e);for(var g=0;g<u;g++)for(var d=0;d<s;d++)l=g*s+d,this.uncompressedData[l]!==i.transparentColorIndex&&(c=d+a,f=g+o,t.setRedInPixel(c,f,n.getRed(this.uncompressedData[l])),t.setGreenInPixel(c,f,n.getGreen(this.uncompressedData[l])),t.setBlueInPixel(c,f,n.getBlue(this.uncompressedData[l])),t.setAlphaInPixel(c,f,255))}}]),e}();function A(e,r){switch(r){case v.FLOAT:return e.FLOAT}return 0}function C(e,r){switch(r){case e.FLOAT:case v.FLOAT:return Float32Array.BYTES_PER_ELEMENT}return 0}!function(e){e[e.FLOAT=0]="FLOAT"}(v||(v={}));var R,P,D,k,M=function(){function e(r,t){T()(this,e),this.vbo=r.createBuffer();var n=0;if(this.layout=t.map((function(e){var t=n;return n+=C(r,e.type)*e.componentsCount,{type:A(r,e.type),componentsCount:e.componentsCount,offset:t}})),this.stride=0,t.length){var i=this.layout[t.length-1];this.stride=i.offset+C(r,i.type)*i.componentsCount}}return y()(e,[{key:"bind",value:function(e){e.bindBuffer(e.ARRAY_BUFFER,this.vbo)}},{key:"activateAttribPointer",value:function(e,r){r>=0&&r<this.layout.length&&(this.setAttribPointer(e,r),e.enableVertexAttribArray(r))}},{key:"activateAllAttribPointers",value:function(e){this.setAllAttribPointers(e);for(var r=0;r<this.layout.length;r++)e.enableVertexAttribArray(r)}},{key:"setData",value:function(e,r){e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW)}},{key:"setAttribPointer",value:function(e,r){if(r>=0&&r<this.layout.length){var t=this.layout[r];e.vertexAttribPointer(r,t.componentsCount,t.type,!1,this.stride,t.offset)}}},{key:"setAllAttribPointers",value:function(e){for(var r=0;r<this.layout.length;r++){var t=this.layout[r];e.vertexAttribPointer(r,t.componentsCount,t.type,!1,this.stride,t.offset)}}}]),e}(),S=[{type:v.FLOAT,componentsCount:3},{type:v.FLOAT,componentsCount:2}],L=(Float32Array.from([-1,1,0,0,1,1,1,0,1,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0,-1,-1,0,0,0]),Float32Array.from([-1,1,0,0,0,1,1,0,1,0,-1,-1,0,0,1,1,1,0,1,0,1,-1,0,1,1,-1,-1,0,0,1])),U=L.length/5;function B(e,r){switch(r){case R.NEAREST:return e.NEAREST;case R.LINEAR:return e.LINEAR}return 0}function I(e,r){switch(r){case P.R8:return e.R8;case P.RED:return e.RED;case P.RGB:return e.RGB}return 0}function G(e,r){switch(r){case D.UNSIGNED_BYTE:return e.UNSIGNED_BYTE}return 0}!function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(R||(R={})),function(e){e[e.RGB=0]="RGB",e[e.R8=1]="R8",e[e.RED=2]="RED"}(P||(P={})),function(e){e[e.UNSIGNED_BYTE=0]="UNSIGNED_BYTE"}(D||(D={})),function(e){e[e.TEXTURE0=0]="TEXTURE0",e[e.TEXTURE1=1]="TEXTURE1",e[e.TEXTURE2=2]="TEXTURE2"}(k||(k={}));var _,N={min:R.NEAREST,mag:R.NEAREST},H={internalFormat:P.RGB,format:P.RGB,type:D.UNSIGNED_BYTE},W={filtering:N,imageFormat:H},O=function(){function e(r,t,n,i){var a,o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:W;T()(this,e),this.width=t,this.height=n,this.texture=r.createTexture(),this.textureUnit=k.TEXTURE0;var s=null!==(a=null==u?void 0:u.filtering)&&void 0!==a?a:N,c=null!==(o=null==u?void 0:u.imageFormat)&&void 0!==o?o:H;this.config={filtering:s,imageFormat:c},r.bindTexture(r.TEXTURE_2D,this.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,B(r,s.min)),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,B(r,s.mag)),r.texImage2D(r.TEXTURE_2D,0,I(r,c.internalFormat),t,n,0,I(r,c.format),G(r,c.type),i),r.bindTexture(r.TEXTURE_2D,null)}return y()(e,[{key:"bind",value:function(e){e.bindTexture(e.TEXTURE_2D,this.texture)}},{key:"getTextureUnit",value:function(){return this.textureUnit}},{key:"setTextureUnit",value:function(e){this.textureUnit=e}},{key:"setData",value:function(e,r,t,n,i,a){var o=this.config.imageFormat;e.texSubImage2D(e.TEXTURE_2D,0,r,t,n,i,I(e,o.format),G(e,o.type),a),this.prevDataPointer=a}},{key:"putData",value:function(e,r,t,n,i,a){if(this.prevDataPointer!==a){var o=this.config.imageFormat;e.texSubImage2D(e.TEXTURE_2D,0,r,t,n,i,I(e,o.format),G(e,o.type),a),this.prevDataPointer=a}}},{key:"getGLTexture",value:function(){return this.texture}},{key:"activeTexture",value:function(e,r){e.activeTexture(function(e,r){return e.TEXTURE0+r}(e,void 0!==r?r:this.textureUnit))}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}}]),e}(),z=function(){function e(){T()(this,e)}return y()(e,[{key:"bind",value:function(e){console.warn("A noop texture was tried to bind"),console.trace()}},{key:"getGLTexture",value:function(){return null}},{key:"activeTexture",value:function(e,r){}},{key:"getWidth",value:function(){return-1}},{key:"getHeight",value:function(){return-1}}]),e}();function X(e,r){return{texture:r,readResultToBuffer:function(t){var n=function(r){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var n=e.createRenderbuffer();return e.bindRenderbuffer(e.RENDERBUFFER,n),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH24_STENCIL8,r.getWidth(),r.getHeight()),e.bindRenderbuffer(e.RENDERBUFFER,null),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r.getGLTexture(),0),t}(r);e.readPixels(0,0,r.getWidth(),r.getHeight(),e.RGBA,e.UNSIGNED_BYTE,t),function(r){e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteFramebuffer(r)}(n)}}}!function(e){e[e.ScreenDrawer=0]="ScreenDrawer",e[e.FlipDrawer=1]="FlipDrawer",e[e.CopyDrawer=2]="CopyDrawer",e[e.MixDrawer=3]="MixDrawer",e[e.GifAlpha=10]="GifAlpha",e[e.GifFrame=11]="GifFrame",e[e.BlackAndWhite=100]="BlackAndWhite",e[e.Mandess=101]="Mandess"}(_||(_={}));var V=function(){function e(r,t){T()(this,e),this.drawer=r,this.gpuProgram=t.getProgram(_.FlipDrawer)}return y()(e,[{key:"chain",value:function(e){throw new Error("Method not implemented.")}},{key:"execute",value:function(e){var r=e.textures,t=e.drawingTarget;return t.bind(),this.gpuProgram.useProgram(this.drawer.getGL()),this.gpuProgram.setTextureUniform(this.drawer.getGL(),"targetTexture",r.targetTexture),this.drawer.drawTriangles(t,0,U,this.drawer.getNumberOfDrawCalls(r.targetTexture)),X(this.drawer.getGL(),t.getBuffer())}}]),e}();function j(e,r,t){var n=e,i=r,a=t,o=function(){var r=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,r);var t=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,t),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH24_STENCIL8,i,a),n.bindRenderbuffer(n.RENDERBUFFER,null),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,t);var o=new O(e,i,a,null);return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o.getGLTexture(),0),n.bindFramebuffer(e.FRAMEBUFFER,null),{frameBuffer:r,texture:o,rbo:t}}(),u=o.frameBuffer,s=o.texture,c=o.rbo;return{bind:function(){n.bindFramebuffer(e.FRAMEBUFFER,u)},getBuffer:function(){return s},dispose:function(){n.bindFramebuffer(e.FRAMEBUFFER,null),n.deleteFramebuffer(u),n.deleteRenderbuffer(c),n.deleteTexture(s.getGLTexture())}}}var q=function(){function e(r,t){T()(this,e),this.drawer=r,this.gpuProgram=t.getProgram(_.ScreenDrawer)}return y()(e,[{key:"chain",value:function(e){throw new Error("Method not implemented.")}},{key:"execute",value:function(e){var r,t,n,i=e.textures,a=(r=this.drawer.getGL(),t=r,n=new z,{bind:function(){t.bindFramebuffer(t.FRAMEBUFFER,null)},getBuffer:function(){return n},dispose:function(){}});return this.gpuProgram.useProgram(this.drawer.getGL()),this.gpuProgram.setTextureUniform(this.drawer.getGL(),"targetTexture",i.targetTexture),this.drawer.drawTriangles(a,0,U,this.drawer.getNumberOfDrawCalls(i.targetTexture)),X(this.drawer.getGL(),a.getBuffer())}}]),e}(),Y=function(){function e(r,t){T()(this,e),this.drawer=r,this.gpuProgram=t.getProgram(_.GifAlpha)}return y()(e,[{key:"chain",value:function(e){throw new Error("Method not implemented.")}},{key:"execute",value:function(e){var r=e.globals,t=e.textures,n=e.drawingTarget;return this.gpuProgram.useProgram(this.drawer.getGL()),this.gpuProgram.setUniform1f(this.drawer.getGL(),"TransperancyIndex",r.transperancyIndex),this.gpuProgram.setUniform1f(this.drawer.getGL(),"ScreenHeight",r.screenHeight),this.gpuProgram.setUniform1fv(this.drawer.getGL(),"Rect",r.alphaSquarCoord[0],r.alphaSquarCoord[1],r.alphaSquarCoord[2],r.alphaSquarCoord[3]),this.gpuProgram.setTextureUniform(this.drawer.getGL(),"IndexTexture",t.gifFrame),this.drawer.drawTriangles(n,0,U,this.drawer.getNumberOfDrawCalls(t.gifFrame)),X(this.drawer.getGL(),n.getBuffer())}}]),e}(),K=function(){function e(r,t){T()(this,e),this.drawer=r,this.gpuProgram=t.getProgram(_.GifFrame)}return y()(e,[{key:"chain",value:function(e){throw new Error("Method not implemented.")}},{key:"execute",value:function(e){var r=e.globals,t=e.textures,n=e.drawingTarget;return this.gpuProgram.useProgram(this.drawer.getGL()),this.gpuProgram.setUniform1f(this.drawer.getGL(),"ColorTableSize",r.colorTableSize),this.gpuProgram.setTextureUniform(this.drawer.getGL(),"IndexTexture",t.indexTexture),this.gpuProgram.setTextureUniform(this.drawer.getGL(),"alphaTexture",t.alphaTexture),this.gpuProgram.setTextureUniform(this.drawer.getGL(),"ColorTableTexture",t.colorTableTexture),t.prevFrameTexture&&this.gpuProgram.setTextureUniform(this.drawer.getGL(),"prevFrameTexture",t.prevFrameTexture),this.drawer.drawTriangles(n,0,U,this.drawer.getNumberOfDrawCalls(t.indexTexture)),X(this.drawer.getGL(),n.getBuffer())}}]),e}(),J=function(){function e(r,t){T()(this,e),this.drawer=r,this.gpuProgram=t.getProgram(_.FlipDrawer)}return y()(e,[{key:"chain",value:function(e){throw new Error("Method not implemented.")}},{key:"execute",value:function(e){var r=e.textures,t=e.drawingTarget;return this.gpuProgram.useProgram(this.drawer.getGL()),this.gpuProgram.setTextureUniform(this.drawer.getGL(),"targetTexture",r.targetTexture),this.drawer.drawTriangles(t,0,U,this.drawer.getNumberOfDrawCalls(r.targetTexture)),X(this.drawer.getGL(),t.getBuffer())}}]),e}();function $(e,r){var t=[],n=[],i=-1,a={allocate:function(r,t){var i=j(e,r,t);return n.push(i),i},dispose:function(e){var t=n.findIndex((function(r){return r===e}));-1===t&&console.warn("".concat(r,": buffer was already disposed or never created with current allocator")),n[t]=null,n=n.filter((function(e){return null!==e})),e.dispose()}};return{startFrame:function(){o()},endFrame:function(){o()},allocateFrameDrawingTarget:function(n){t[i+=1]=[];var a={depth:i,allocate:function(n,a){this.depth!==i&&console.warn("".concat(r,": allocator should be called inside own callback"));var o=j(e,n,a);return t[i].push(o),o}};try{n(a),o()}catch(e){console.warn(e),o()}function o(){for(var e=0;e<t[i].length;e++)t[i][e].dispose();t[i]=[],i-=1}},getLastingAllocator:function(){return a}};function o(){for(var e=0;e<t.length;e++)for(var r=0;r<t[e].length;r++)t[e][r].dispose();t=[]}}var Q=function(){function e(r,t,n){T()(this,e),this.program=function(e,r,t){var n=e.createProgram();if(e.attachShader(n,r),e.attachShader(n,t),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var i=e.getProgramInfoLog(n);return console.warn("Fail to link program: ".concat(i)),e.deleteProgram(n),null}return n}(r,t,n),this.uniformBuffer=new Map,this.currentTextureUnit=-1}return y()(e,[{key:"isProgramCreated",value:function(){return null!==this.program}},{key:"useProgram",value:function(e){this.currentTextureUnit=-1,e.useProgram(this.program)}},{key:"setTextureUniform",value:function(e,r,t){this.currentTextureUnit+=1,t.activeTexture(e,this.currentTextureUnit),t.bind(e),this.setUniform1i(e,r,this.currentTextureUnit)}},{key:"setUniform1i",value:function(e,r,t){var n=this.getCache(e,r);n.value!==t&&(n.value=t,e.uniform1i(n.location,t))}},{key:"setUniform1f",value:function(e,r,t){var n=this.getCache(e,r);n.value!==t&&(n.value=t,e.uniform1f(n.location,t))}},{key:"setUniform1fv",value:function(e,r,t,n,i,a){var o=this.getCache(e,r),u=o.value;u&&(u[0]!==t||u[1],u[2],u[3]===a)||((u=new Float32Array(4))[0]=t,u[1]=n,u[2]=i,u[3]=a,o.value=u,e.uniform4fv(o.location,u))}},{key:"getCache",value:function(e,r){var t=this.uniformBuffer.get(r);return t||(t={location:e.getUniformLocation(this.program,r),value:void 0}),t}},{key:"dispose",value:function(e){e.deleteProgram(this.program),this.program=null}}]),e}();function Z(e,r,t){var n=e.createShader(r);if(0===n&&console.warn("Fail to create shader"),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)){var i=e.getShaderInfoLog(n);return console.warn("Fail to compile shader: ".concat(i)),e.deleteShader(n),null}return n}function ee(e,r){e.deleteShader(r)}const re="#version 300 es\n\nlayout(location = 0) in vec4 vPosition;\nlayout(location = 1) in vec2 aTexCoord;\n\nout vec2 texCoord;\n\nvoid main()\n{\n  gl_Position = vPosition;\n  texCoord = aTexCoord;\n}\n",te="#version 300 es\n\nprecision mediump float;\n\nuniform sampler2D targetTexture;\n\nin vec2 texCoord;\n\nout vec4 fragColor;\n\nvoid main()\n{\n  fragColor = texture(targetTexture, texCoord);\n}\n";function ne(e,r){var t=new Map;return{getProgram:function(n){if(t.has(n))return t.get(n);var i=function(e){return e===_.ScreenDrawer||e===_.CopyDrawer||e===_.FlipDrawer?{vertText:re,fragText:te}:e===_.MixDrawer?{vertText:re,fragText:"#version 300 es\n\nprecision mediump float;\n\nuniform sampler2D backgroundTexture;\nuniform sampler2D foregroundTexture;\n\nuniform float alpha;\n\nin vec2 texCoord;\n\nout vec4 fragColor;\n\nvoid main()\n{\n  fragColor = mix(texture(backgroundTexture, texCoord), texture(foregroundTexture, texCoord), alpha);\n}\n"}:e===_.BlackAndWhite?{vertText:re,fragText:"#version 300 es\n\nprecision mediump float;\n\nuniform sampler2D targetTexture;\n\nin vec2 texCoord;\n\nout vec4 fragColor;\n\nvoid main()\n{\n  vec4 tex = texture(targetTexture, texCoord);\n  float color = (tex.r + tex.g + tex.b) / 3.0;\n  fragColor = vec4(vec3(color), tex.a);\n}\n"}:e===_.GifAlpha?{vertText:re,fragText:"#version 300 es\n\nprecision mediump float;\n\nuniform sampler2D IndexTexture;\n\nuniform float TransperancyIndex;\nuniform float ScreenHeight;\nuniform vec4 Rect;\n\nin vec2 texCoord;\n\nout vec4 fragColor;\n\nvoid main()\n{\n  float imageLeft = Rect.x;\n  float imageTop = Rect.y;\n  float width = Rect.z;\n  float hieght = Rect.w;\n  float x = gl_FragCoord.x;\n  float y = ScreenHeight - gl_FragCoord.y;\n\n  vec4 myindex = texture(IndexTexture, texCoord);\n\n  float alpha = step(imageLeft, x) - (2.0 * step(imageLeft + width, x)) + step(imageTop, y) - (2.0 * step(imageTop + hieght, y)) - (1.0 - (step(imageLeft, x)))- (1.0 - (step(imageTop, y)));\n  // TODO: check for better the best way with performance\n  alpha = alpha * (1.0 - (step(TransperancyIndex, myindex.x * 255.0) - step(TransperancyIndex + 1.0, myindex.x * 255.0)));\n\n  fragColor = vec4(alpha, 0.0, 0.0, 1.0);   //Output the color\n}\n"}:e===_.GifFrame?{vertText:re,fragText:"#version 300 es\n\nprecision mediump float;\n\nuniform sampler2D ColorTableTexture;     //256 x 1 pixels\nuniform sampler2D IndexTexture;\nuniform sampler2D alphaTexture;\nuniform sampler2D prevFrameTexture;\nuniform float ColorTableSize;\n\nin vec2 texCoord;\n\nout vec4 fragColor;\n\nvoid main()\n{\n  vec4 myindex = texture(IndexTexture, texCoord);\n\n  float normilaziedX = (myindex.x * 255.0) / ColorTableSize;\n  vec4 texel = texture(ColorTableTexture, vec2(normilaziedX, myindex.y));\n  float alpha = texture(alphaTexture, vec2(texCoord.x, 1.0 - texCoord.y)).r;\n\n  fragColor = mix(texture(prevFrameTexture, texCoord), vec4(texel.rgb, 1.0), alpha);\n}\n"}:e===_.Mandess?{vertText:"#version 300 es\n\nlayout(location = 0) in vec4 vPosition;\nlayout(location = 1) in vec2 aTexCoord;\n\nout vec2 texCoord;\nout vec2 texMultCoordA;\nout vec2 texMultCoordGB;\n\nvoid main()\n{\n  gl_Position = vPosition;\n  texCoord = aTexCoord;\n  texMultCoordA = vec2(aTexCoord.x * (1.0 / 1.1), aTexCoord.y * (1.0 / 1.1));\n  texMultCoordGB = vec2(aTexCoord.x * (1.0 / 1.05) + 0.08, aTexCoord.y * (1.0 / 1.05));\n}\n",fragText:"#version 300 es\n\nprecision mediump float;\n\nuniform sampler2D targetTexture;\n\nin vec2 texCoord;\nin vec2 texMultCoordA;\nin vec2 texMultCoordGB;\n\nout vec4 fragColor;\n\nvoid main()\n{\n  fragColor = texture(targetTexture, texCoord) * 7.0;\n  fragColor = mix(fragColor, vec4(texture(targetTexture, texMultCoordA).r, 0.0, 0.0, 1.0) * 2.0, 0.7);\n  fragColor = mix(fragColor, vec4(0.0, texture(targetTexture, texMultCoordGB).g, texture(targetTexture, texMultCoordGB).b, 1.0) * 1.5, 0.5);\n}\n"}:{vertText:"",fragText:""}}(n),a=i.vertText,o=i.fragText;if(""===a||""===o){console.warn(r,"- Unknown program id -",_[n]);var u={vertText:re,fragText:te};a=u.vertText,o=u.fragText}var s=function(e,r){return Z(e,e.VERTEX_SHADER,r)}(e,a),c=function(e,r){return Z(e,e.FRAGMENT_SHADER,r)}(e,o),f=new Q(e,s,c);return ee(e,s),ee(e,c),f.isProgramCreated()||console.warn(r,"- Program fail -",_[n]),t.set(n,f),f},dispose:function(){t.values().forEach((function(r){return r.dispose(e)}))}}}var ie=new Map;function ae(e){return ie.get(e)}var oe=-1,ue=function(){function e(r,t,n,i,a){T()(this,e);var o=r.getContext("webgl2");this.id=String(++oe),function(e,r){ie.set(r,{resouceManager:$(e,r),shaderManager:ne(e,r)})}(o,String(this.id)),this.drawer=function(e){var r=new WeakMap;return{drawTriangles:function(t,n,i,a){t.bind(),e.drawArrays(e.TRIANGLES,n,i);var o=t.getBuffer();r.has(o)?r.set(o,a+r.get(o)+1):r.set(o,a+1)},getGL:function(){return e},startFrame:function(){r=new Map},endFrame:function(){r=new Map},getNumberOfDrawCalls:function(e){return r.has(e)?r.get(e):0}}}(o),this.drawer.startFrame();var u=n[0],s=u.M?u.colorMap:i,c=t.screenWidth,f=t.screenHeight;this.screenWidth=c,this.screenHeight=f,this.uncompressedData=a.out,this.lzw_uncompress=a.lzw_uncompress,o.enable(o.BLEND),o.blendEquation(o.FUNC_ADD),o.blendFunc(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA),o.pixelStorei(o.UNPACK_ALIGNMENT,1),o.viewport(0,0,c,f),o.clearColor(0,0,0,1),this.vboToTexture=new M(o,S),this.vboToTexture.bind(o),this.vboToTexture.setData(o,L),this.vboToTexture.activateAllAttribPointers(o);var l=n.reduce((function(e,r){return r.M&&r.colorMap.entriesCount>e?r.colorMap.entriesCount:e}),s.entriesCount);this.maxColorMapSize=l,this.colorTableTexture=new O(o,l,1,null),this.gifFrameTexture=new O(o,c,f,null,{imageFormat:{internalFormat:P.R8,format:P.RED,type:D.UNSIGNED_BYTE}}),this.colorTableTexture.setTextureUnit(k.TEXTURE0),this.gifFrameTexture.setTextureUnit(k.TEXTURE1),this.gl=o}return y()(e,[{key:"drawToTexture",value:function(e,r){var t=this,n=this.gl;this.lzw_uncompress(e),this.gifFrameTexture.bind(n),this.gifFrameTexture.setData(n,e.imageLeft,e.imageTop,e.imageWidth,e.imageHeight,this.uncompressedData),ae(this.id).resouceManager.allocateFrameDrawingTarget((function(i){var a=t.drawToAlphaTexture(i.allocate(t.screenWidth,t.screenHeight),e),o=e.M?e.colorMap:r;t.colorTableTexture.bind(n),t.colorTableTexture.putData(n,0,0,o.entriesCount,1,o.getRawData()),t.gifFrameTexture.bind(n),t.gifFrameTexture.setData(n,e.imageLeft,e.imageTop,e.imageWidth,e.imageHeight,t.uncompressedData),t.currentFrameBuffer&&ae(t.id).resouceManager.getLastingAllocator().dispose(t.currentFrameBuffer),t.currentFrameBuffer=ae(t.id).resouceManager.getLastingAllocator().allocate(t.screenWidth,t.screenHeight),t.currentFrame=new K(t.drawer,ae(t.id).shaderManager).execute({memory:{},globals:{colorTableSize:t.maxColorMapSize},textures:{colorTableTexture:t.colorTableTexture,indexTexture:t.gifFrameTexture,alphaTexture:a.texture,prevFrameTexture:t.prevFrame?t.prevFrame.texture:null},drawingTarget:t.currentFrameBuffer}),t.prevFrameBuffer&&ae(t.id).resouceManager.getLastingAllocator().dispose(t.prevFrameBuffer),t.prevFrameBuffer=ae(t.id).resouceManager.getLastingAllocator().allocate(t.screenWidth,t.screenHeight),t.prevFrame=new J(t.drawer,ae(t.id).shaderManager).execute({memory:{},globals:{},textures:{targetTexture:t.currentFrame.texture},drawingTarget:t.prevFrameBuffer})}))}},{key:"restorePrevDisposal",value:function(){this.currentFrame=this.disposalPrevFrame,this.prevFrame=this.disposalPrevFrame}},{key:"drawToScreen",value:function(e){var r=this;ae(this.id).resouceManager.allocateFrameDrawingTarget((function(t){var n=r.postProcessing(r.currentFrame,t,e);r.drawer.getNumberOfDrawCalls(n.texture)%2==1&&(n=new V(r.drawer,ae(r.id).shaderManager).execute({memory:{},globals:{},textures:{targetTexture:n.texture},drawingTarget:t.allocate(r.screenWidth,r.screenHeight)})),new q(r.drawer,ae(r.id).shaderManager).execute({memory:{},globals:{},textures:{targetTexture:n.texture}})})),this.drawer.endFrame(),ae(this.id).resouceManager.endFrame(),this.drawer.startFrame(),ae(this.id).resouceManager.startFrame()}},{key:"postProcessing",value:function(e,r,t){for(var n=e,i=0;i<t.length;i++)n=t[i].apply(this.drawer,ae(this.id).shaderManager,n,r);return n}},{key:"drawToAlphaTexture",value:function(e,r){var t,n={screenHeight:this.screenHeight,transperancyIndex:null!==(t=r.graphicControl)&&void 0!==t&&t.isTransparent?r.graphicControl.transparentColorIndex:512,alphaSquarCoord:[r.imageLeft,r.imageTop,r.imageWidth,r.imageHeight]};return new Y(this.drawer,ae(this.id).shaderManager).execute({memory:{},globals:n,textures:{gifFrame:this.gifFrameTexture},drawingTarget:e})}},{key:"saveDisposalPrev",value:function(){this.disposalPrevFrameBuffer&&ae(this.id).resouceManager.getLastingAllocator().dispose(this.disposalPrevFrameBuffer),this.disposalPrevFrameBuffer=ae(this.id).resouceManager.getLastingAllocator().allocate(this.screenWidth,this.screenHeight),this.disposalPrevFrame=new J(this.drawer,ae(this.id).shaderManager).execute({memory:{},globals:{},textures:{targetTexture:this.currentFrame.texture},drawingTarget:this.disposalPrevFrameBuffer})}},{key:"getCanvasPixels",value:function(e){this.currentFrame&&this.currentFrame.readResultToBuffer(e)}},{key:"getPrevCanvasPixels",value:function(e){this.prevFrame&&this.prevFrame.readResultToBuffer(e)}}]),e}(),se=function(){function e(){T()(this,e),this.gifs=[],this.frameSubsriptions=[],this.effectSubsriptions=[]}return y()(e,[{key:"addGifToRender",value:function(e,r,t){var n=this,i={id:this.gifs.length},a={gifEntity:e,currentFrame:-1,algorithm:"GL"===t.algorithm?new ue(r,e.gif.screenDescriptor,e.gif.images,e.gif.colorMap,t.uncompress):new F(r,e.gif.screenDescriptor,e.gif.images,e.gif.colorMap,t.uncompress),timer:new b,canvas:r,effects:[]},o=a.gifEntity.gif.screenDescriptor,u=o.screenWidth,s=o.screenHeight;return a.canvas.width=u,a.canvas.height=s,a.canvas.style.width="".concat(u,"px"),a.canvas.style.height="".concat(s,"px"),this.gifs.push(a),a.gifEntity.gif.images.length?new Promise((function(e){return a.timer.once((function(){n.setFrame(i,0).then((function(){return e(i)}))}))})):Promise.resolve(i)}},{key:"addEffectToGif",value:function(e,r,t,n){r>t&&console.warn("from cannot be greater than to",r,t);var i=this.gifs[e.id];r<0&&console.warn("from should be greater than 0",r),t>=i.gifEntity.gif.images.length&&console.warn("to should be less than number of gif frames",t,i.gifEntity.gif.images.length);var a=n({screenWidth:i.gifEntity.gif.screenDescriptor.screenWidth,screenHeight:i.gifEntity.gif.screenDescriptor.screenHeight,from:r,to:t});i.effects.push(a),this.notifyEffectSubscribers(e,a,r,t)}},{key:"setFrame",value:function(e,r){var t=this,n=this.gifs[e.id];return new Promise((function(i){r>-1&&r<n.gifEntity.gif.images.length?(n.timer.clear(),n.timer.once((function(){for(var a=Math.max(0,r<n.currentFrame?0:n.currentFrame),o=r,u=a;u<o;u++)t.drawToTexture(n,u),t.performeDisposalMethod(n,u);n.currentFrame=r,t._drawFrame(n,n.currentFrame),i(),t.notifyFrameSubscribers(e)}))):i()}))}},{key:"autoplayStart",value:function(e){var r,t=this,n=this.gifs[e.id];return n.gifEntity.gif.images.length>1&&(n.timer.once((function r(){var i,a=(n.currentFrame+1)%n.gifEntity.gif.images.length;n.timer.once(r,(null===(i=n.gifEntity.gif.images[a].graphicControl)||void 0===i?void 0:i.delayTime)||40),n.currentFrame=a,t._drawFrame(n,n.currentFrame),t.notifyFrameSubscribers(e)}),(null===(r=n.gifEntity.gif.images[n.currentFrame].graphicControl)||void 0===r?void 0:r.delayTime)||40),!0)}},{key:"autoplayEnd",value:function(e){this.gifs[e.id].timer.clear()}},{key:"onFrameRender",value:function(e,r){var t=this;return this.frameSubsriptions.push((function(t){t.gifDescription.id===e.id&&r(t)})),{clear:function(){t.frameSubsriptions=t.frameSubsriptions.filter((function(e){return e!==r}))}}}},{key:"onEffectAdded",value:function(e,r){var t=this;return this.effectSubsriptions.push((function(t){t.gifDescription.id===e.id&&r(t)})),{clear:function(){t.effectSubsriptions=t.effectSubsriptions.filter((function(e){return e!==r}))}}}},{key:"getCurrentFrame",value:function(e){return this.gifs[e.id].currentFrame}},{key:"dispose",value:function(){this.gifs.forEach((function(e){e.timer.clear()}))}},{key:"drawToTexture",value:function(e,r){var t,n=e.gifEntity.gif.images[r];e.algorithm.drawToTexture(n,e.gifEntity.gif.colorMap),(null===(t=n.graphicControl)||void 0===t?void 0:t.disposalMethod)!==c.prev&&e.algorithm.saveDisposalPrev()}},{key:"notifyFrameSubscribers",value:function(e){var r=this.gifs[e.id];this.frameSubsriptions.forEach((function(t){t({gifDescription:e,frameNumber:r.currentFrame,totalFrameNumber:r.gifEntity.gif.images.length})}))}},{key:"notifyEffectSubscribers",value:function(e,r,t,n){var i=this.gifs[e.id];this.effectSubsriptions.forEach((function(a){a({gifDescription:e,effect:r,effects:i.effects,from:t,to:n})}))}},{key:"drawToScreen",value:function(e){var r=e.effects.filter((function(r){return r.shouldBeApplied(e.currentFrame)}));e.algorithm.drawToScreen(r)}},{key:"_drawFrame",value:function(e,r){this.drawToTexture(e,r),this.drawToScreen(e),this.performeDisposalMethod(e,r)}},{key:"performeDisposalMethod",value:function(e,r){var t;(null===(t=e.gifEntity.gif.images[r].graphicControl)||void 0===t?void 0:t.disposalMethod)===c.prev&&e.algorithm.restorePrevDisposal()}}]),e}(),ce=t(102),fe=t.n(ce);const le=t.p+"1f220a855cd1204e55a4d8f6748d6283.wasm";var ge=function(){function e(r,t){T()(this,e),this.drawer=r,this.gpuProgram=t.getProgram(_.BlackAndWhite)}return y()(e,[{key:"chain",value:function(e){throw new Error("Method not implemented.")}},{key:"execute",value:function(e){var r=e.textures,t=e.drawingTarget;return this.gpuProgram.useProgram(this.drawer.getGL()),this.gpuProgram.setTextureUniform(this.drawer.getGL(),"targetTexture",r.targetTexture),this.drawer.drawTriangles(t,0,U,this.drawer.getNumberOfDrawCalls(r.targetTexture)),X(this.drawer.getGL(),t.getBuffer())}}]),e}(),de=function(){function e(r,t){T()(this,e),this.drawer=r,this.gpuProgram=t.getProgram(_.Mandess)}return y()(e,[{key:"chain",value:function(e){throw new Error("Method not implemented.")}},{key:"execute",value:function(e){var r=e.textures,t=e.drawingTarget;return this.gpuProgram.useProgram(this.drawer.getGL()),this.gpuProgram.setTextureUniform(this.drawer.getGL(),"targetTexture",r.targetTexture),this.drawer.drawTriangles(t,0,U,this.drawer.getNumberOfDrawCalls(r.targetTexture)),X(this.drawer.getGL(),t.getBuffer())}}]),e}(),he=function(){function e(r,t){T()(this,e),this.drawer=r,this.gpuProgram=t.getProgram(_.MixDrawer)}return y()(e,[{key:"chain",value:function(e){throw new Error("Method not implemented.")}},{key:"execute",value:function(e){var r=e.globals,t=e.textures,n=e.drawingTarget;this.gpuProgram.useProgram(this.drawer.getGL()),this.gpuProgram.setTextureUniform(this.drawer.getGL(),"backgroundTexture",t.background),this.gpuProgram.setTextureUniform(this.drawer.getGL(),"foregroundTexture",t.foreground),this.gpuProgram.setUniform1f(this.drawer.getGL(),"alpha",r.alpha);var i=this.drawer.getNumberOfDrawCalls(t.background),a=this.drawer.getNumberOfDrawCalls(t.foreground);return i%2==0&&a%2==0||i%2==1&&a%2==1||console.warn("MixRenderResultsRenderPass: foreground and background texture are flipped in different direction"),this.drawer.drawTriangles(n,0,U,r.alpha>=.5?a:i),X(this.drawer.getGL(),n.getBuffer())}}]),e}(),me=0;function pe(){return me++}var ve=pe(),xe=pe(),Te=t(611),we=t(186),ye=t(655),be=t.n(ye),Ee=t(38),Fe=t.n(Ee),Ae=t(8),Ce=t.n(Ae);function Re(e,r){return{__component:!0,element:e,dispose:r}}function Pe(e){return null!==e&&"object"===Ce()(e)&&e.__component}function De(e){return"error"in e}var ke=0,Me="<",Se="</",Le=">",Ue="/>",Be=new Set(["\r","\n"," "]),Ie="onClick",Ge="onInput",_e="onKeyDown",Ne="onFocusOut",He=new Set([Ie,Ge,_e,Ne]),We=new Set(["disabled"]),Oe=new Set(["value"]),ze="children";function Xe(e,r){var t={type:"element",tag:"div",properties:[],bindings:[],events:[],children:[]},n=t,i=0,a=0,o=0,u=0,s=0,c=b();return c?{error:c}:{value:t};function f(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e[i].slice(a,a+r)||""}function l(){return r[o]}function g(){o+=1}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;a+=e,s+=e}function h(){i+=1,a=0}function m(){for(var r=e[i];a<r.length&&Be.has(r[a]);)"\n"===r[a]&&(u+=1,s=0),d()}function p(){for(var r=e[i];(a<r.length||y())&&"--\x3e"!==f(3);)"\n"===r[a]&&(u+=1,s=0),y()?(h(),g(),r=e[i]):d()}function v(){for(var r=a,t=e[i];a<t.length&&!Be.has(t[a])&&t[a]!==Le;)d();return t.slice(r,a)}function x(){m();var e=function(){if(f()!==Me)return{error:F('Error during parseElementStart: expect start of opening element "'.concat(Me,'", but got "').concat(f(),'"'))};d();var e=v();n.tag=e,m();var r=function(){for(;f()!==Le&&f(2)!==Ue;){m();var e=T();if("="!==f())return F('Error during parseAttribs: invalid char between attrib name and value; expect "=", but got "'.concat(f(),'"'));d();var r=w();if(De(r))return r.error;var t=r.value;if(He.has(e)){if("function"!=typeof t)return F('Error during parseAttribs: "'.concat(e,'" event attrib; expect value to be function, but got "').concat(Ce()(t),'"'));n.events.push([e,t])}else if("function"==typeof t)n.bindings.push([e,t]);else{if("number"!=typeof t&&"string"!=typeof t&&"boolean"!=typeof t)return F("Error during parseAttribs: unknown atrib value type");n.properties.push([e,t])}m()}}();if(r)return{error:r};var t=!1;if(f()===Le)d();else{if(f(2)!==Ue)return{error:F('Error during parseElementStart: expect end of opening element "'.concat(Le,'" or "').concat(Ue,'", but got "').concat(f(),'"'))};t=!0,d(2)}return{value:{selfClosing:t,tag:e}}}();if(De(e))return e.error;if(e.value.selfClosing)return null;var r=b();return r||(function(){if(f(2)!==Se)return F('Error during parseElementEnd: expect start of closing element "'.concat(Se,'", but got "').concat(f(2),'"'));d(2);var e=v();return e!==n.tag?F('Error during parseElementEnd: expect closing element to be "'.concat(n.tag,'", but got "').concat(e,'"')):(m(),f()!==Le?F('Error during parseElementEnd: expect end of closing element "'.concat(Le,'", but got "').concat(f(),'"')):void d())}()||void 0)}function T(){for(var r=a,t=e[i];a<t.length&&"="!==t[a]&&!Be.has(t[a]);)d();return t.slice(r,a)}function w(){if('"'!==f())return{error:F("Error during parseAttribValue: value should be enclosing in '\"', but got \"".concat(f(),'"'))};if(d(),y()){var r;h();var t=l();return g(),null!==(r=u())&&void 0!==r?r:{value:t}}var n,o=function(){for(var r=a,t=e[i];a<t.length&&'"'!==t[a];)d();return t.slice(r,a)}();return null!==(n=u())&&void 0!==n?n:{value:o};function u(){if('"'!==f())return{error:F("Error during parseAttribValue: value should be enclosing in '\"', but got \"".concat(f(),'"'))};d()}}function y(){return e[i].length===a}function b(){for(;m(),void 0,s=e[i],!(a>=s.length&&i>=e.length-1);)if(y()){var r=l();if("function"==typeof r)n.bindings.push([ze,r]);else{if("number"!=typeof r&&"string"!=typeof r&&"boolean"!=typeof r)return F("Error during parseChildren: unknown atrib value type");n.properties.push([ze,r])}h(),g()}else if("\x3c!--"===f(4))d(4),p(),d(3);else{if(f(2)===Se)break;if(f()===Me){var t=n;n={type:"element",tag:void 0,properties:[],bindings:[],events:[],children:[]},t.children.push(n);var o=x();if(o)return o;n=t}else{var u=E();n.children.push({type:"text",value:u})}}var s;m()}function E(){for(var r=a,t=e[i];a<t.length&&t[a]!==Me;)d();return t.slice(r,a)}function F(e){return{description:e,line:u,templatesIndex:i,column:s,valuesIndex:o}}}function Ve(e,r,t){var n="",i=e,a=1,o=ke++,u=function(){var e=0;return function(){return e++}}();return function e(){if("text"!==i.type){var s=null,c=function(){return null===s&&(s="parsed-element-".concat(o,"-").concat(u())),"[".concat(s,"]")},f="@{reactive binding}";n+="".concat(new Array(a).join(" ")).concat(Me).concat(i.tag);var l=i.bindings.filter((function(e){return Fe()(e,1)[0]!==ze})).sort((function(e,r){var t=Fe()(e,1)[0],n=Fe()(r,1)[0];return t.charCodeAt(0)-n.charCodeAt(0)})),g=i.events.toSorted((function(e,r){var t=Fe()(e,1)[0],n=Fe()(r,1)[0];return t.charCodeAt(0)-n.charCodeAt(0)})),d=i.properties.filter((function(e){return Fe()(e,1)[0]!==ze})).sort((function(e,r){var t=Fe()(e,1)[0],n=Fe()(r,1)[0];return t.charCodeAt(0)-n.charCodeAt(0)}));if(d.length>0){var h=d.map((function(e){var r=Fe()(e,2),t=r[0],n=r[1];return"".concat(t,'="').concat(String(n),'"')})).join(" ");n+=" ".concat(h)}if(i.bindings.length>0&&r)r(c,i.bindings);else if(l.length>0){var m=l.map((function(e){var r=Fe()(e,1)[0];return"".concat(r,'="').concat(f,'"')})).join(" ");n+=" ".concat(m)}if(g.length>0)if(t)t(c,g);else{var p=g.map((function(e){var r=Fe()(e,1)[0];return"".concat(r,'="').concat("@{event handler}",'"')})).join(" ");n+=" ".concat(p)}s&&(n+=" ".concat(s)),n+=Le,i.children.length>0&&(n+="\n");var v=i.bindings.find((function(e){return Fe()(e,1)[0]===ze})),x=i.properties.find((function(e){return Fe()(e,1)[0]===ze}));v&&!r?n+=f:x?n+=String(x[1]):function(){if("text"!==i.type){a+=1;for(var r=i,t=0;t<i.children.length;t++)i=i.children[t],e(),i=r;a-=1}}(),i.children.length>0&&(n+=new Array(a).join(" ")),n+="".concat(Se).concat(i.tag).concat(Le),n+="\n"}else n+="".concat(new Array(a+1).join(" ")).concat(i.value,"\n")}(),n}function je(e){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];var i=Xe(e,t);if(De(i)){for(var a=new Array(e.length+t.length),o=0;o<e.length-1;o++)a[2*o+0]=e[o],a[2*o+1]=String(t[o]);a[2*(e.length-1)+0]=e[e.length-1];var u=a.join("");console.warn("Error for template\n"+u),console.warn("html parsing error: ",i.error.description);var s=u.split("\n");if(i.error.line<s.length){var c=i.error.column-15,f=i.error.column+15;console.warn("Error at line - ".concat(i.error.line," column - ").concat(i.error.column)),0!==i.error.line&&console.warn("".concat(i.error.line-1,": ").concat(s[i.error.line-1])),console.warn("".concat(i.error.line,": ").concat(s[i.error.line].slice(0,c)+"%c"+s[i.error.line].slice(c)),"color: red"),i.error.line<s.length-1&&console.warn("".concat(i.error.line+1,": ").concat(s[i.error.line+1])),console.warn("Error at line - ".concat(s[i.error.line].slice(c,f)))}return{element:document.createElement("div"),dispose:function(){}}}var l=Ve(i.value),g=document.createElement("div"),d=function(){},h=[],m=[],p=[],v=function(e,r){var t=r.find((function(e){return Fe()(e,1)[0]===ze})),n=r.filter((function(e){return Fe()(e,1)[0]!==ze}));t&&p.push({selector:e(),child:t[1]}),n.length>0&&n.forEach((function(r){h.push({selector:e(),binding:r})}))},x=function(e,r){r.length>0&&r.forEach((function(r){m.push({selector:e(),event:r})}))},T=Ve(i.value,v,x);return g.innerHTML=T,(p.length>0||h.length>0||m.length)&&(0,Te.Jz)((function(e){var r=new Map;d=function(){e()};for(var t=function(e){var t,n,i=p[e],a=r.has(i.selector)?r.get(i.selector):g.querySelector(i.selector);r.set(i.selector,a),a?(0,we.cE)((t=null,n=function(e){Pe(e)&&e.dispose()},function(){if(Ye(i.child)){var e=i.child();Pe(e)?(n(t),a.innerHTML="",a.appendChild(e.element)):null===e?(n(t),a.innerHTML=""):Array.isArray(e)?(n(t),Array.isArray(t)&&t.forEach(n),a.innerHTML="",e.forEach((function(e){a.appendChild(e.element)}))):a.innerHTML=String(e),t=e}else a.innerHTML=String(i.child())})):(console.warn("Error during parsing template: cannot find element with id "+i.selector),console.warn("Error for template\n"+l),console.warn("Error for result template\n"+T))},n=0;n<p.length;n++)t(n);for(var i=function(e){var t=h[e],n=r.has(t.selector)?r.get(t.selector):g.querySelector(t.selector);r.set(t.selector,n),n?(0,we.cE)((function(){if(We.has(t.binding[0])){var e=t.binding[1]();e?n.setAttribute(t.binding[0],String(e)):n.removeAttribute(t.binding[0])}else if(Oe.has(t.binding[0])){var r=t.binding[1]();n[t.binding[0]]=String(r)}else{var i=t.binding[1]();n.setAttribute(t.binding[0],String(i))}})):console.warn("Error during parsing template: cannot find element with id "+t.selector)},a=0;a<h.length;a++)i(a);for(var o=function(e){var t=m[e],n=r.has(t.selector)?r.get(t.selector):g.querySelector(t.selector);if(r.set(t.selector,n),n){if(t.event[0]===Ie){var i=function(e){t.event[1](e)};n.addEventListener("click",i),(0,Te.uG)((function(){return n.removeEventListener("click",i)}))}if(t.event[0]===Ge){var a=function(e){t.event[1](e)};n.addEventListener("input",a),(0,Te.uG)((function(){return n.removeEventListener("input",a)}))}if(t.event[0]===_e){var o=function(e){t.event[1](e)};n.addEventListener("keydown",o),(0,Te.uG)((function(){return n.removeEventListener("clkeydownick",o)}))}if(t.event[0]===Ne){var u=function(e){t.event[1](e)};n.addEventListener("focusout",u),(0,Te.uG)((function(){return n.removeEventListener("focusout",u)}))}}else console.warn("Error during parsing template: cannot find element with id "+t.selector)},u=0;u<m.length;u++)o(u)})),Re(g,d)}function qe(e){return e.__child=!0,e}function Ye(e){return e.__child}function Ke(){var e=be()(["\n      <div>\n        <div>",'</div>\n        <div>\n          <button onClick="','">','</button>\n          <button disabled="','" onClick="','">Next</button>\n        </div>\n      </div>\n    ']);return Ke=function(){return e},e}function Je(e,r){return function(t){var n=t.target.value;if(isNaN(Number(n)))r(n);else{var i=Number(n);e(i)}}}function $e(){var e=be()(['\n            <div>\n              <span>Editing Black And White Effect</span>\n              <div>\n                <span>From</span>\n                <input onKeyDown="','" onFocusOut="','" class="from-input" value="','"/>\n              </div>\n              <div>\n                <span>To</span>\n                <input onKeyDown="','" onFocusOut="','" class="to-input" value="','"/>\n              </div>\n            </div>\n    ']);return $e=function(){return e},e}function Qe(){var e=be()(['\n            <div>\n              <span>Editing Madness Effect</span>\n              <div>\n                <span>From</span>\n                <input onKeyDown="','" onFocusOut="','" class="from-input" value="','"/>\n              </div>\n              <div>\n                <span>To</span>\n                <input onKeyDown="','" onFocusOut="','" class="to-input" value="','"/>\n              </div>\n              <div>\n                <span>Alpha</span>\n                <input onKeyDown="','" onFocusOut="','" class="alpha-input" value="','"/>\n              </div>\n            </div>\n    ']);return Qe=function(){return e},e}function Ze(){var e=be()(["<div>\n      <div>",'</div>\n      <button onClick="','">close</button>\n    </div>']);return Ze=function(){return e},e}function er(){var e=be()(["<div>\n      <div>",'</div>\n      <button onClick="','">close</button>\n    </div>']);return er=function(){return e},e}function rr(){var e=be()(["\n    <div>\n        <div>\n          ","\n        </div>\n        <div>\n          ","\n        </div>\n      </div>\n    "]);return rr=function(){return e},e}function tr(){var e=be()(["\n      <ul>\n        ","\n      </ul>\n    "]);return tr=function(){return e},e}function nr(){var e=be()(['<li onClick="','" style="','">\n        ',"\n      </li>"]);return nr=function(){return e},e}var ir=function(e,r,t,n){return"".concat(n+1,". ").concat(function(e){return e===ve?"Madness Effect":e===xe?"Black And White Effect":null}(e)||"Unknown Effect"," - from: ").concat(r+1,"; to: ").concat(t+1)};function ar(){var e=be()(['\n      <div>\n        <canvas></canvas>\n        <button onClick="','">close</button>\n        <span>',"</span>\n        <span>","</span>\n      </div>\n    "]);return ar=function(){return e},e}function or(e){return(0,Te.Jz)((function(r){var t=je(ar(),(function(){return e.onClose()}),qe((function(){return function(e){return(0,Te.Jz)((function(r){var t=(0,we.td)(!1),n=je(Ke(),(function(){return"".concat(e.currentFrameNumber()," / ").concat(e.totalFrameNumber())}),(function(){return e.isPlay.set((function(e){return!e}))}),(function(){return e.isPlay()?"Stop":"Play"}),(function(){return e.isPlay()}),(function(){t()||(t.set(!0),e.renderNext()().then((function(){return t.set(!1)})))}));return Re(n.element,(function(){r(),n.dispose()}))}))}(e)})),qe((function(){return function(e){return(0,Te.Jz)((function(r){var t=(0,we.td)(null),n=null,i=[],a=[];(0,we.cE)((function(){i=e.effects().map((function(e){return(0,we.td)(e.getFrom(),{dirty:function(e,r){return!0}})})),a=e.effects().map((function(e){return(0,we.td)(e.getTo(),{dirty:function(e,r){return!0}})}))}));var o=function(){n=null,t.set(null)},u=function(r,u){return je(nr(),(function(){var s=ir(r.getId(),i[u](),a[u](),u);if(n!==s){n=s;var c={fromValue:function(){return i[u]()},setFromValue:function(t){i[u].set(t),r.setFrom(t),e.rerender()},toValue:function(){return a[u]()},setToValue:function(t){a[u].set(t),r.setTo(t),e.rerender()},effect:r,currentFrameNumber:e.currentFrameNumber,rerender:function(){return e.rerender()}};t.set(function(e,r){return function(e){return e.getId()===ve}(e.effect)?je(er(),qe((function(){return function(e){return(0,Te.Jz)((function(r){var t=e.effect,n=e.fromValue,i=e.setFromValue,a=e.toValue,o=e.setToValue,u=(0,we.td)(t.getAlpha(),{dirty:function(e,r){return!0}});(0,we.cE)((function(){u(),e.rerender()}));var s=Je((function(e){e=Math.max(0,e-1),i(e)}),(function(){i(n())})),c=Je((function(e){e=Math.max(0,e-1),o(e)}),(function(){o(a())})),f=Je((function(e){e=Math.max(0,e),u.set(e),t.setAlpha(e)}),(function(){u.set(t.getAlpha())})),l=je(Qe(),(function(e){"Enter"===e.key&&s(e)}),s,(function(){return n()+1}),(function(e){"Enter"===e.key&&c(e)}),c,(function(){return a()+1}),(function(e){"Enter"===e.key&&f(e)}),f,(function(){return u()}));return Re(l.element,(function(){r(),l.dispose()}))}))}(e)})),r):function(e){return e.getId()===xe}(e.effect)?je(Ze(),qe((function(){return function(e){return(0,Te.Jz)((function(r){var t=e.fromValue,n=e.setFromValue,i=e.toValue,a=e.setToValue,o=Je((function(e){e=Math.max(0,e-1),n(e)}),(function(){n(t())})),u=Je((function(e){e=Math.max(0,e-1),a(e)}),(function(){a(i())})),s=je($e(),(function(e){"Enter"===e.key&&o(e)}),o,(function(){return t()+1}),(function(e){"Enter"===e.key&&u(e)}),u,(function(){return i()+1}));return Re(s.element,(function(){r(),s.dispose()}))}))}(e)})),r):null}(c,o))}}),(function(){return r.shouldBeApplied(e.currentFrameNumber()-1)?"color: green":""}),ir(r.getId(),i[u](),a[u](),u))},s=je(tr(),qe((function(){return e.effects().map(u)}))),c=je(rr(),qe((function(){return 0===e.effects().length?"No effects":s})),qe((function(){return t()})));return Re(c.element,(function(){r(),c.dispose()}))}))}(e)}))),n=Re(t.element,(function(){r(),t.dispose()}));return n.getCanvas=function(){return t.element.querySelector("canvas")},n}))}var ur=document.getElementById("main"),sr=document.createElement("input");sr.type="file";var cr=[];sr.addEventListener("change",(function(){var e=new se,r=new FileReader;r.onload=function(r){var t=function(e){var r=String.fromCharCode,t=new Uint8Array(e);if(t[0]===n.G&&t[1]===n.I&&t[2]===n.F){var c=10*Number(r(t[3]))+Number(r(t[4])),f="GIF".concat(c).concat(r(t[5])),l=function(e){var r=new Uint8Array(e);return 0!==r[o.start+o.size-1]&&console.warn("Invalid Screen Descriptor section: last byte should be 0"),{screenWidth:r[o.start+0]|r[o.start+1]<<8,screenHeight:r[o.start+2]|r[o.start+3]<<8,M:r[o.start+4]>>7,cr:1+((112&r[o.start+4])>>4),pixel:1+(7&r[o.start+4]),background:r[o.start+5]}}(e),v=u.start,x=null;l.M&&(v+=(x=function(e,r){return g(e,u.start,r)}(e,l.pixel)).entriesCount*u.entriesCount);for(var T=function(e,r){for(var t=new Uint8Array(e),n=[],o=null,c=null;r<t.byteLength&&-1!==r;)switch(t[r]){case i.blockLabel:if(r++,t[r++]===i.graphicControl){var f=t[r];o=m(e,r+1),r=r+f+1}else r=h(e,r);break;case a.imageSeparator:c=d(e,r),n.push(c),r+=s.size,c.M&&(c.colorMap=g(e,r,c.pixel),r+=c.colorMap.entriesCount*u.entriesCount),o&&(c.graphicControl=o),c.compressedData=t.subarray(r,p(e,r)),c.startPointer=r,r+=c.compressedData.byteLength;break;default:r++}return{images:n,blockEnd:r}}(e,v),w=T.images,y=T.blockEnd;y<t.length&&t[y]!==a.gifTermination;)y++;return y>t.length&&console.warn("GIF doens`t terminate with proper symbol. It may be corrapted."),{signature:f,version:c,screenDescriptor:l,colorMap:x,images:w,buffer:t}}}(r.target.result);if(t){var c=function(e){return{gif:e}}(t);(function(e){var r,t,n,i,a,o=0;return(r=e.buffer,t=e.screenDescriptor.screenWidth*e.screenDescriptor.screenHeight,n=Math.floor((r.byteLength+t+131072)/65536)+1,i=new WebAssembly.Memory({initial:n,maximum:n}),a=new Uint8Array(i.buffer),fe()({wasmMemory:i,locateFile:function(e){return e.endsWith(".wasm")?le:e}}).then((function(e){var n=e.cwrap("lzw_uncompress","void",["number","number","number","number"]),i=e._malloc(r.byteLength),o=e._malloc(t);return a.set(r,i),{module:e,lzw_uncompress:n,gifStartPointer:i,outBuffer:a.subarray(o,o+t),outStartPointer:o}}))).then((function(e){return o=e.gifStartPointer,{lzw_uncompress:function(r){e.lzw_uncompress(o+r.startPointer,r.compressedData.length,e.outStartPointer,e.outBuffer.length)},out:e.outBuffer}}))})(c.gif).then((function(r){(0,Te.Jz)((function(t){var n,i,a=document.createElement("div"),o=function(){},u=function(){},s=(0,we.td)(!1),f=(0,we.td)(1),g=(0,we.td)(c.gif.images.length),d=(0,we.td)([]),h=(0,we.td)((function(){return Promise.resolve()})),m=or({isPlay:s,renderNext:h,currentFrameNumber:f,totalFrameNumber:g,effects:d,rerender:function(){return u()},onClose:function(){return o()}}),p=(i=m,(n=a).appendChild(i.element),function(){return function(e,r){r.dispose(),e.removeChild(r.element)}(n,i)});o=function(){e.dispose(),p(),t(),cr=cr.filter((function(e){return e!==c}))},e.addGifToRender(c,m.getCanvas(),{uncompress:r,algorithm:"GL"}).then((function(r){e.onEffectAdded(r,(function(e){d.set(l()(e.effects))})),e.onFrameRender(r,(function(e){f.set(e.frameNumber+1)})),e.addEffectToGif(r,2,30,(function(e){return function(e){var r=.7;return{apply:function(t,n,i,a){var o=i,u=new ge(t,n).execute({memory:{},globals:{},textures:{targetTexture:o.texture},drawingTarget:a.allocate(e.screenWidth,e.screenHeight)}),s=new de(t,n).execute({memory:{},globals:{},textures:{targetTexture:o.texture},drawingTarget:a.allocate(e.screenWidth,e.screenHeight)});return new he(t,n).execute({memory:{},globals:{alpha:r},textures:{background:u.texture,foreground:s.texture},drawingTarget:a.allocate(e.screenWidth,e.screenHeight)})},shouldBeApplied:function(r){return r>=e.from&&r<=e.to},getId:function(){return ve},getFrom:function(){return e.from},getTo:function(){return e.to},setFrom:function(r){e.from=r},setTo:function(r){e.to=r},getAlpha:function(){return r},setAlpha:function(e){r=e}}}(e)})),e.addEffectToGif(r,25,45,(function(e){return function(e){return{apply:function(r,t,n,i){var a=n;return new ge(r,t).execute({memory:{},globals:{},textures:{targetTexture:a.texture},drawingTarget:i.allocate(e.screenWidth,e.screenHeight)})},shouldBeApplied:function(r){return r>=e.from&&r<=e.to},getId:function(){return xe},getFrom:function(){return e.from},setFrom:function(r){e.from=r},getTo:function(){return e.to},setTo:function(r){e.to=r}}}(e)})),(0,we.cE)((function(){s()?e.autoplayStart(r)||console.warn("Error to stop"):e.autoplayEnd(r)})),s.set(!0),h.set((function(){return function(){return e.setFrame(r,(e.getCurrentFrame(r)+1)%c.gif.images.length)}})),u=function(){s()||e.setFrame(r,e.getCurrentFrame(r))}})),ur.append(a),cr.push(c)}))}))}},r.readAsArrayBuffer(this.files[0])}),!1),ur.append(sr)},102:e=>{var r,t=(r="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var t,n,i=void 0!==(e=e||{})?e:{},a=Object.assign;i.ready=new Promise((function(e,r){t=e,n=r}));var o=a({},i),u=[],s="";"undefined"!=typeof document&&document.currentScript&&(s=document.currentScript.src),r&&(s=r),s=0!==s.indexOf("blob:")?s.substr(0,s.replace(/[?#].*/,"").lastIndexOf("/")+1):"",i.print||console.log.bind(console);var c,f,l=i.printErr||console.warn.bind(console);a(i,o),o=null,i.arguments&&(u=i.arguments),i.thisProgram&&i.thisProgram,i.quit&&i.quit,i.wasmBinary&&(c=i.wasmBinary),i.noExitRuntime,"object"!=typeof WebAssembly&&k("no native wasm support detected");var g=!1;function d(e){return i["_"+e]}function h(e,r,t,n,i){var a={string:function(e){var r=0;if(null!=e&&0!==e){var t=1+(e.length<<2);!function(e,r,t){!function(e,r,t,n){if(!(n>0))return 0;for(var i=t+n-1,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343&&(o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a)),o<=127){if(t>=i)break;r[t++]=o}else if(o<=2047){if(t+1>=i)break;r[t++]=192|o>>6,r[t++]=128|63&o}else if(o<=65535){if(t+2>=i)break;r[t++]=224|o>>12,r[t++]=128|o>>6&63,r[t++]=128|63&o}else{if(t+3>=i)break;r[t++]=240|o>>18,r[t++]=128|o>>12&63,r[t++]=128|o>>6&63,r[t++]=128|63&o}}r[t]=0}(e,v,r,t)}(e,r=W(t),t)}return r},array:function(e){var r=W(e.length);return function(e,r){p.set(e,r)}(e,r),r}};var o=d(e),u=[],s=0;if(n)for(var c=0;c<n.length;c++){var f=a[t[c]];f?(0===s&&(s=N()),u[c]=f(n[c])):u[c]=n[c]}var l=o.apply(null,u);return function(e){return 0!==s&&H(s),function(e){return"string"===r?(t=e)?function(e,r,t){for(var n=r+void 0,i=r;e[i]&&!(i>=n);)++i;if(i-r>16&&e.subarray&&x)return x.decode(e.subarray(r,i));for(var a="";r<i;){var o=e[r++];if(128&o){var u=63&e[r++];if(192!=(224&o)){var s=63&e[r++];if((o=224==(240&o)?(15&o)<<12|u<<6|s:(7&o)<<18|u<<12|s<<6|63&e[r++])<65536)a+=String.fromCharCode(o);else{var c=o-65536;a+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else a+=String.fromCharCode((31&o)<<6|u)}else a+=String.fromCharCode(o)}return a}(v,t):"":"boolean"===r?Boolean(e):e;var t}(e)}(l)}var m,p,v,x="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function T(e){m=e,i.HEAP8=p=new Int8Array(e),i.HEAP16=new Int16Array(e),i.HEAP32=new Int32Array(e),i.HEAPU8=v=new Uint8Array(e),i.HEAPU16=new Uint16Array(e),i.HEAPU32=new Uint32Array(e),i.HEAPF32=new Float32Array(e),i.HEAPF64=new Float64Array(e)}var w,y=i.INITIAL_MEMORY||65536;(f=i.wasmMemory?i.wasmMemory:new WebAssembly.Memory({initial:y/65536,maximum:32768}))&&(m=f.buffer),y=m.byteLength,T(m);var b,E,F=[],A=[],C=[],R=0,P=null,D=null;function k(e){i.onAbort&&i.onAbort(e),l(e="Aborted("+e+")"),g=!0,e+=". Build with -s ASSERTIONS=1 for more info.";var r=new WebAssembly.RuntimeError(e);throw n(r),r}function M(e){return e.startsWith("data:application/octet-stream;base64,")}function S(e){try{if(e==b&&c)return new Uint8Array(c);throw"both async and sync fetching of the wasm failed"}catch(e){k(e)}}function L(e){for(;e.length>0;){var r=e.shift();if("function"!=typeof r){var t=r.func;"number"==typeof t?void 0===r.arg?B(t)():B(t)(r.arg):t(void 0===r.arg?null:r.arg)}else r(i)}}i.preloadedImages={},i.preloadedAudios={},M(b="out.wasm")||(E=b,b=i.locateFile?i.locateFile(E,s):s+E);var U=[];function B(e){var r=U[e];return r||(e>=U.length&&(U.length=e+1),U[e]=r=w.get(e)),r}function I(e){try{return f.grow(e-m.byteLength+65535>>>16),T(f.buffer),1}catch(e){}}var G,_={b:function(e){var r,t=v.length,n=2147483648;if((e>>>=0)>n)return!1;for(var i=1;i<=4;i*=2){var a=t*(1+.2/i);if(a=Math.min(a,e+100663296),I(Math.min(n,((r=Math.max(e,a))%65536>0&&(r+=65536-r%65536),r))))return!0}return!1},a:f},N=(function(){var e={a:_};function r(e,r){var t,n=e.exports;i.asm=n,w=i.asm.f,t=i.asm.c,A.unshift(t),function(e){if(R--,i.monitorRunDependencies&&i.monitorRunDependencies(R),0==R&&(null!==P&&(clearInterval(P),P=null),D)){var r=D;D=null,r()}}()}function t(e){r(e.instance)}function a(r){return(c||"function"!=typeof fetch?Promise.resolve().then((function(){return S(b)})):fetch(b,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+b+"'";return e.arrayBuffer()})).catch((function(){return S(b)}))).then((function(r){return WebAssembly.instantiate(r,e)})).then((function(e){return e})).then(r,(function(e){l("failed to asynchronously prepare wasm: "+e),k(e)}))}if(R++,i.monitorRunDependencies&&i.monitorRunDependencies(R),i.instantiateWasm)try{return i.instantiateWasm(e,r)}catch(e){return l("Module.instantiateWasm callback failed with error: "+e),!1}(c||"function"!=typeof WebAssembly.instantiateStreaming||M(b)||"function"!=typeof fetch?a(t):fetch(b,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,e).then(t,(function(e){return l("wasm streaming compile failed: "+e),l("falling back to ArrayBuffer instantiation"),a(t)}))}))).catch(n)}(),i.___wasm_call_ctors=function(){return(i.___wasm_call_ctors=i.asm.c).apply(null,arguments)},i._lzw_uncompress=function(){return(i._lzw_uncompress=i.asm.d).apply(null,arguments)},i._malloc=function(){return(i._malloc=i.asm.e).apply(null,arguments)},i.stackSave=function(){return(N=i.stackSave=i.asm.g).apply(null,arguments)}),H=i.stackRestore=function(){return(H=i.stackRestore=i.asm.h).apply(null,arguments)},W=i.stackAlloc=function(){return(W=i.stackAlloc=i.asm.i).apply(null,arguments)};function O(e){function r(){G||(G=!0,i.calledRun=!0,g||(L(A),t(i),i.onRuntimeInitialized&&i.onRuntimeInitialized(),function(){if(i.postRun)for("function"==typeof i.postRun&&(i.postRun=[i.postRun]);i.postRun.length;)e=i.postRun.shift(),C.unshift(e);var e;L(C)}()))}e=e||u,R>0||(function(){if(i.preRun)for("function"==typeof i.preRun&&(i.preRun=[i.preRun]);i.preRun.length;)e=i.preRun.shift(),F.unshift(e);var e;L(F)}(),R>0||(i.setStatus?(i.setStatus("Running..."),setTimeout((function(){setTimeout((function(){i.setStatus("")}),1),r()}),1)):r()))}if(i.cwrap=function(e,r,t,n){var i=(t=t||[]).every((function(e){return"number"===e}));return"string"!==r&&i&&!n?d(e):function(){return h(e,r,t,arguments)}},D=function e(){G||O(),G||(D=e)},i.run=O,i.preInit)for("function"==typeof i.preInit&&(i.preInit=[i.preInit]);i.preInit.length>0;)i.preInit.pop()();return O(),e.ready});e.exports=t}},r={};function t(n){if(r[n])return r[n].exports;var i=r[n]={exports:{}};return e[n](i,i.exports,t),i.exports}t.m=e,t.x=e=>{},t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var r=t.g.document;if(!e&&r&&(r.currentScript&&(e=r.currentScript.src),!e)){var n=r.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),(()=>{var e={179:0},r=[[205,736]],n=e=>{},i=(i,a)=>{for(var o,u,[s,c,f,l]=a,g=0,d=[];g<s.length;g++)u=s[g],t.o(e,u)&&e[u]&&d.push(e[u][0]),e[u]=0;for(o in c)t.o(c,o)&&(t.m[o]=c[o]);for(f&&f(t),i&&i(a);d.length;)d.shift()();return l&&r.push.apply(r,l),n()},a=self.webpackChunkcustom_gif=self.webpackChunkcustom_gif||[];function o(){for(var n,i=0;i<r.length;i++){for(var a=r[i],o=!0,u=1;u<a.length;u++){var s=a[u];0!==e[s]&&(o=!1)}o&&(r.splice(i--,1),n=t(t.s=a[0]))}return 0===r.length&&(t.x(),t.x=e=>{}),n}a.forEach(i.bind(null,0)),a.push=i.bind(null,a.push.bind(a));var u=t.x;t.x=()=>(t.x=u||(e=>{}),(n=o)())})(),t.x()})();